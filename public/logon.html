<!DOCTYPE html>
<!--
  ~ /* ------------------------------------------------------------------------------------
  ~  * Copyright (c) SAS Institute Inc.
  ~  *  Licensed under the Apache License, Version 2.0 (the "License");
  ~  * you may not use this file except in compliance with the License.
  ~  * You may obtain a copy of the License at
  ~  *
  ~  * http://www.apache.org/licenses/LICENSE-2.0
  ~  *
  ~  *  Unless required by applicable law or agreed to in writing, software
  ~  * distributed under the License is distributed on an "AS IS" BASIS,
  ~  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  * See the License for the specific language governing permissions and
  ~ * limitations under the License.
  ~ ----------------------------------------------------------------------------------------*/
  ~
  -->

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <script type="text/javascript" src="/appenv"></script>
        <script src="https://unpkg.com/restaf/dist/restaf.min.js"></script>
        <script>
            function logonButton() {
                let store = restaf.initStore();
                store.logon(LOGONPAYLOAD)
                    .then(msg => console.log(msg))
                    .catch(err => alert(err));
            }


        </script>
    </head>

    <body onload="logonButton()">
        <div>
        </div>
    </body>

<!-- 
     To roll your own see code below
    function logon () {
        let x           = `${yourViyaServer}/SASLogon/oauth/authorize?response_type=token&client_id=${yourclientID}`;
        let redirectUri = `${window.location.protocol}//${window.location.host}/optmodel/index.html?host=${yourViyaServer}`;
        x               = `${x}&redirect_uri=${redirectUri}`
        window.location.replace(x);
    }
    -->
</html>